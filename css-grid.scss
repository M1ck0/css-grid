/* FRAMEWORK IN PROGRESS */

// Variables
$content-width: 1340px;
$gap-var: 0;

// Functions
@function handle-columns($number) {
  $result: repeat(
    auto-fill,
    minmax(min(100%, calc(#{$content-width}/#{$number + 1} - 20px)), 1fr)
  );

  @return $result;
}

// Main code
.grid {
  max-width: $content-width;
  padding: 0 20px;
  margin: 0 auto;
  display: grid;
  transform: translateY(5px);
  grid-template-columns: repeat(
    auto-fill,
    minmax(min(100%, calc(#{$content-width} / 3)), 1fr)
  );

  @for $i from 1 through 12 {
    &[class*="grid-layout-#{$i}"] {
      grid-template-columns: handle-columns($i);
    }
  }

  @while $gap-var <= 50 {
    &[class*="grid-gap-#{$gap-var}"] {
      grid-gap: $gap-var + px;
    }
    $gap-var: $gap-var + 5;
  }

  & > * {
    max-width: 100%; /* make sure that all direct children have max width of 100% so they don't overflow parent */
  }
}
